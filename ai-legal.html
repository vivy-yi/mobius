<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½æ³•å¾‹æœåŠ¡å¹³å° | ä¸“ä¸šAIæ³•å¾‹è§£å†³æ–¹æ¡ˆ</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1e3a5f;
            --secondary: #2c5282;
            --accent: #3182ce;
            --gold: #d69e2e;
            --success: #38a169;
            --danger: #e53e3e;
            --warning: #dd6b20;
            --light: #f7fafc;
            --gray: #4a5568;
            --dark: #1a202c;
            /* Legacy aliases for compatibility */
            --primary-color: #1e3a5f;
            --secondary-color: #2c5282;
            --accent-color: #d69e2e;
            --text-light: #ffffff;
            --text-dark: #333333;
            --bg-light: #f7fafc;
            --bg-dark: #1a1a1a;
            --success-color: #38a169;
            --warning-color: #dd6b20;
            --error-color: #e53e3e;
            --border-radius: 12px;
            --shadow: 0 4px 20px rgba(0,0,0,0.1);
            --shadow-hover: 0 8px 30px rgba(0,0,0,0.15);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        /* Header Styles - Use nav.js injected navigation, no custom header styles needed */

        
        /* Main Content */
        .ai-hero {
            text-align: center;
            padding: 4rem 0;
            background: white;
            margin: 100px 0 2rem 0;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .ai-hero h2 {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .ai-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .ai-feature-card {
            background: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .ai-feature-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary);
        }

        .ai-feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .ai-feature-title {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
            text-align: center;
        }

        .ai-feature-description {
            color: var(--text-dark);
            margin-bottom: 1.5rem;
        }

        .ai-feature-button {
            background: var(--primary);
            color: var(--text-light);
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            width: 100%;
        }

        .ai-feature-button:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        /* AI Analysis Section */
        .ai-analysis-section {
            background: white;
            padding: 3rem 0;
            margin: 2rem 0;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .analysis-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .analysis-input, .analysis-output {
            padding: 2rem;
            background: var(--bg-light);
            border-radius: var(--border-radius);
        }

        .analysis-textarea {
            width: 100%;
            min-height: 200px;
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        .analysis-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        .analysis-button {
            background: var(--success-color);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1.1rem;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }

        .analysis-button:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        #analysisResults {
            margin-top: 2rem;
            padding: 2rem;
            background: #e8f5e8;
            border-radius: var(--border-radius);
            border-left: 5px solid var(--success-color);
            display: none;
        }

        .analysis-content {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        /* Statistics */
        .ai-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            text-align: center;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
        }

        .stat-label {
            color: var(--text-dark);
            margin-top: 0.5rem;
        }

        /* File Upload */
        .file-upload-area {
            border: 3px dashed #ddd;
            border-radius: var(--border-radius);
            padding: 3rem;
            text-align: center;
            margin: 2rem 0;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .file-upload-area:hover {
            border-color: var(--primary);
            background: var(--bg-light);
        }

        .file-upload-area.dragover {
            border-color: var(--primary);
            background: rgba(26, 35, 126, 0.1);
        }

        /* Footer */
        footer {
            background: var(--bg-dark);
            color: var(--text-light);
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .nav-links {
                flex-direction: column;
                gap: 0.5rem;
            }

            .analysis-container {
                grid-template-columns: 1fr;
            }

            .ai-features {
                grid-template-columns: 1fr;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Alert Styles */
        .alert {
            padding: 1rem;
            margin: 1rem 0;
            border-radius: var(--border-radius);
            border-left: 5px solid;
        }

        .alert-success {
            background: #e8f5e8;
            border-color: var(--success-color);
            color: #2e7d32;
        }

        .alert-warning {
            background: #fff3e0;
            border-color: var(--warning-color);
            color: #f57c00;
        }

        .alert-error {
            background: #ffebee;
            border-color: var(--error-color);
            color: #c62828;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav id="main-navbar"></nav>
        </div>
    </header>


    <main class="container">
        <section class="ai-hero">
            <h2>æ–°ä¸€ä»£æ™ºèƒ½æ³•å¾‹åˆ†æå¼•æ“</h2>
            <p>ç»“åˆäººå·¥æ™ºèƒ½ä¸æ³•å¾‹ä¸“ä¸šçŸ¥è¯†ï¼Œä¸ºæ‚¨æä¾›é«˜æ•ˆã€å‡†ç¡®ã€å¯é çš„æ³•å¾‹æœåŠ¡ä½“éªŒ</p>

            <div class="ai-stats">
                <div class="stat-card">
                    <div class="stat-number" data-target="98">0</div>
                    <div class="stat-label">åˆ†æå‡†ç¡®ç‡%</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" data-target="50000">0</div>
                    <div class="stat-label">å¤„ç†æ¡ˆä¾‹æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" data-target="100">0</div>
                    <div class="stat-label">å“åº”æ—¶é—´(ç§’)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" data-target="24">0</div>
                    <div class="stat-label">7x24æœåŠ¡</div>
                </div>
            </div>
        </section>

        <section class="ai-features">
            <div class="ai-feature-card">
                <div class="ai-feature-icon">ğŸ“„</div>
                <h3 class="ai-feature-title">æ™ºèƒ½åˆåŒå®¡æŸ¥</h3>
                <p class="ai-feature-description">AIé©±åŠ¨çš„åˆåŒåˆ†æï¼Œè¯†åˆ«é£é™©æ¡æ¬¾ã€ç¼ºå¤±è¦ç´ ã€æ³•å¾‹åˆè§„æ€§é—®é¢˜ï¼Œæä¾›ä¸“ä¸šä¿®æ”¹å»ºè®®</p>
                <button class="ai-feature-button" onclick="scrollToAnalysis('contract')">å¼€å§‹åˆåŒå®¡æŸ¥</button>
            </div>

            <div class="ai-feature-card">
                <div class="ai-feature-icon">ğŸ”</div>
                <h3 class="ai-feature-title">æ³•å¾‹æ–‡æ¡£æœç´¢</h3>
                <p class="ai-feature-description">æ™ºèƒ½æ£€ç´¢æ³•å¾‹æ³•è§„ã€åˆ¤ä¾‹ã€å­¦æœ¯è®ºæ–‡ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€æŸ¥è¯¢ï¼Œç²¾å‡†å®šä½ç›¸å…³æ³•å¾‹ä¾æ®</p>
                <button class="ai-feature-button" onclick="scrollToAnalysis('search')">æœç´¢æ³•å¾‹æ–‡æ¡£</button>
            </div>

            <div class="ai-feature-card">
                <div class="ai-feature-icon">âš ï¸</div>
                <h3 class="ai-feature-title">é£é™©è¯„ä¼°åˆ†æ</h3>
                <p class="ai-feature-description">å…¨æ–¹ä½æ³•å¾‹é£é™©è¯†åˆ«ä¸è¯„ä¼°ï¼ŒåŒ…æ‹¬å•†ä¸šé£é™©ã€åˆè§„é£é™©ã€è¯‰è®¼é£é™©ç­‰å¤šç»´åº¦åˆ†æ</p>
                <button class="ai-feature-button" onclick="scrollToAnalysis('risk')">è¿›è¡Œé£é™©è¯„ä¼°</button>
            </div>

            <div class="ai-feature-card">
                <div class="ai-feature-icon">ğŸ“Š</div>
                <h3 class="ai-feature-title">æ¡ˆä¾‹ç»“æœé¢„æµ‹</h3>
                <p class="ai-feature-description">åŸºäºå†å²æ¡ˆä¾‹æ•°æ®å’Œæœºå™¨å­¦ä¹ ç®—æ³•ï¼Œé¢„æµ‹æ¡ˆä»¶å¯èƒ½ç»“æœå’ŒæˆåŠŸç‡</p>
                <button class="ai-feature-button" onclick="scrollToAnalysis('predict')">é¢„æµ‹æ¡ˆä¾‹ç»“æœ</button>
            </div>

            <div class="ai-feature-card">
                <div class="ai-feature-icon">ğŸ’¬</div>
                <h3 class="ai-feature-title">æ³•å¾‹å’¨è¯¢åŠ©æ‰‹</h3>
                <p class="ai-feature-description">7x24å°æ—¶åœ¨çº¿æ³•å¾‹å’¨è¯¢ï¼Œæ™ºèƒ½é—®ç­”ç³»ç»Ÿèƒ½å¤Ÿå›ç­”å„ç±»æ³•å¾‹é—®é¢˜</p>
                <button class="ai-feature-button" onclick="startChat()">å¼€å§‹å’¨è¯¢</button>
            </div>

            <div class="ai-feature-card">
                <div class="ai-feature-icon">ğŸ“‹</div>
                <h3 class="ai-feature-title">æ–‡ä¹¦ç”Ÿæˆå·¥å…·</h3>
                <p class="ai-feature-description">è‡ªåŠ¨ç”Ÿæˆå„ç±»æ³•å¾‹æ–‡ä¹¦ï¼ŒåŒ…æ‹¬èµ·è¯‰çŠ¶ã€ç­”è¾©çŠ¶ã€åˆåŒæ¨¡æ¿ç­‰</p>
                <button class="ai-feature-button" onclick="generateDocument()">ç”Ÿæˆæ–‡ä¹¦</button>
            </div>
        </section>

        <section class="ai-analysis-section" id="analysisSection">
            <h2>æ™ºèƒ½æ³•å¾‹åˆ†æå·¥ä½œå°</h2>

            <div class="file-upload-area" id="fileUploadArea">
                <div class="ai-feature-icon">ğŸ“</div>
                <h3>æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„æˆ–ç‚¹å‡»ä¸Šä¼ </h3>
                <p>æ”¯æŒ PDFã€DOCã€DOCX æ ¼å¼ï¼Œæœ€å¤§æ–‡ä»¶å¤§å° 10MB</p>
                <input type="file" id="fileInput" accept=".pdf,.doc,.docx" style="display: none;">
            </div>

            <div class="analysis-container">
                <div class="analysis-input">
                    <h3 id="inputTitle">è¾“å…¥æ³•å¾‹æ–‡æœ¬</h3>
                    <textarea
                        id="legalTextInput"
                        class="analysis-textarea"
                        placeholder="è¯·è¾“å…¥éœ€è¦åˆ†æçš„æ³•å¾‹æ–‡æœ¬å†…å®¹..."
                    ></textarea>
                    <button class="analysis-button" id="analyzeButton" onclick="analyzeText()">
                        å¼€å§‹åˆ†æ
                    </button>
                </div>

                <div class="analysis-output">
                    <h3>åˆ†æç»“æœ</h3>
                    <div id="analysisResults">
                        <div class="analysis-content">
                            <!-- åˆ†æç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 æ™ºèƒ½æ³•å¾‹æœåŠ¡å¹³å°. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
            <p>ğŸ”’ ä¿æŠ¤æ‚¨çš„éšç§ä¸æ•°æ®å®‰å…¨æ˜¯æˆ‘ä»¬çš„é¦–è¦è´£ä»»</p>
        </div>
    </footer>

    <script>
        // å…¶ä»–ä¸šåŠ¡ç›¸å…³JSï¼ˆå¦‚æœ‰ï¼‰
        // å®‰å…¨çš„DOMæ“ä½œå‡½æ•°
        function safeCreateElement(tag, content, attributes = {}) {
            const element = document.createElement(tag);
            if (content) {
                element.textContent = content; // ä½¿ç”¨textContentè€Œä¸æ˜¯innerHTML
            }
            Object.keys(attributes).forEach(key => {
                element.setAttribute(key, attributes[key]);
            });
            return element;
        }

        function safeAppendContent(parent, content) {
            const tempDiv = document.createElement('div');
            tempDiv.textContent = content; // æ–‡æœ¬å†…å®¹ï¼Œé˜²æ­¢HTMLæ³¨å…¥
            parent.appendChild(tempDiv);
        }

        // æ–‡ä»¶ä¸Šä¼ å¤„ç†
        const fileUploadArea = document.getElementById('fileUploadArea');
        const fileInput = document.getElementById('fileInput');

        fileUploadArea.addEventListener('click', () => {
            fileInput.click();
        });

        fileUploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileUploadArea.classList.add('dragover');
        });

        fileUploadArea.addEventListener('dragleave', () => {
            fileUploadArea.classList.remove('dragover');
        });

        fileUploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            fileUploadArea.classList.remove('dragover');
            handleFiles(e.dataTransfer.files);
        });

        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });

        function handleFiles(files) {
            if (files.length > 0) {
                const file = files[0];
                if (file.size > 10 * 1024 * 1024) {
                    showAlert('æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡10MB', 'error');
                    return;
                }

                showAlert(`æ–‡ä»¶ "${file.name}" ä¸Šä¼ æˆåŠŸï¼Œå¼€å§‹åˆ†æ...`, 'success');
                // æ¨¡æ‹Ÿæ–‡ä»¶å¤„ç†
                setTimeout(() => {
                    document.getElementById('legalTextInput').value = `[å·²ä¸Šä¼ æ–‡ä»¶: ${file.name}]\n\næ–‡ä»¶å†…å®¹æ­£åœ¨å¤„ç†ä¸­...\n\næ¨¡æ‹Ÿçš„åˆåŒæ¡æ¬¾ï¼š\n1. æœ¬åˆåŒè‡ªåŒæ–¹ç­¾å­—ç›–ç« ä¹‹æ—¥èµ·ç”Ÿæ•ˆ\n2. åˆåŒæœŸé™ä¸ºä¸€å¹´ï¼Œè‡ªåŠ¨ç»­çº¦\n3. ä»»ä½•ä¸€æ–¹è¿ååˆåŒæ¡æ¬¾ï¼Œåº”æ‰¿æ‹…ç›¸åº”æ³•å¾‹è´£ä»»`;
                    showAlert('æ–‡ä»¶å¤„ç†å®Œæˆï¼Œå¯ä»¥å¼€å§‹åˆ†æ', 'success');
                }, 2000);
            }
        }

        // æ»šåŠ¨åˆ°åˆ†æåŒºåŸŸ
        function scrollToAnalysis(type) {
            const section = document.getElementById('analysisSection');
            section.scrollIntoView({ behavior: 'smooth' });

            const titles = {
                'contract': 'æ™ºèƒ½åˆåŒå®¡æŸ¥',
                'search': 'æ³•å¾‹æ–‡æ¡£æœç´¢',
                'risk': 'é£é™©è¯„ä¼°åˆ†æ',
                'predict': 'æ¡ˆä¾‹ç»“æœé¢„æµ‹'
            };

            const placeholders = {
                'contract': 'è¯·ç²˜è´´éœ€è¦å®¡æŸ¥çš„åˆåŒå†…å®¹...',
                'search': 'è¯·è¾“å…¥æ‚¨è¦æœç´¢çš„æ³•å¾‹é—®é¢˜æˆ–å…³é”®è¯...',
                'risk': 'è¯·æè¿°éœ€è¦è¯„ä¼°çš„æ³•å¾‹é£é™©æƒ…å†µ...',
                'predict': 'è¯·è¾“å…¥æ¡ˆä»¶åŸºæœ¬æƒ…å†µï¼ŒåŒ…æ‹¬å½“äº‹äººã€äº‰è®®ç„¦ç‚¹ç­‰...'
            };

            document.getElementById('inputTitle').textContent = titles[type] || 'è¾“å…¥æ³•å¾‹æ–‡æœ¬';
            document.getElementById('legalTextInput').placeholder = placeholders[type] || 'è¯·è¾“å…¥éœ€è¦åˆ†æçš„æ³•å¾‹æ–‡æœ¬å†…å®¹...';

            currentAnalysisType = type;
        }

        let currentAnalysisType = 'contract';

        // AIåˆ†æåŠŸèƒ½
        function analyzeText() {
            const input = document.getElementById('legalTextInput').value.trim();
            if (!input) {
                showAlert('è¯·è¾“å…¥éœ€è¦åˆ†æçš„æ³•å¾‹æ–‡æœ¬', 'warning');
                return;
            }

            const button = document.getElementById('analyzeButton');
            button.innerHTML = '<span class="loading"></span> åˆ†æä¸­...';
            button.disabled = true;

            // æ¨¡æ‹ŸAIåˆ†æè¿‡ç¨‹
            setTimeout(() => {
                const result = performAIAnalysis(input, currentAnalysisType);
                showAnalysisResult(currentAnalysisType, result);
                button.innerHTML = 'å¼€å§‹åˆ†æ';
                button.disabled = false;
            }, 2000);
        }

        function performAIAnalysis(input, type) {
            // æ¨¡æ‹ŸAIåˆ†æç»“æœ
            const results = {
                'contract': {
                    status: 'completed',
                    risks: ['ç¬¬3æ¡è¿çº¦è´£ä»»ä¸æ˜ç¡®', 'ç¬¬5æ¡ç¼ºå°‘äº‰è®®è§£å†³æ¡æ¬¾', 'ç¬¬8æ¡è¿åç›¸å…³æ³•å¾‹'],
                    suggestions: ['å»ºè®®æ˜ç¡®è¿çº¦é‡‘è®¡ç®—æ–¹å¼', 'è¡¥å……ä»²è£æˆ–è¯‰è®¼æ¡æ¬¾', 'ä¿®è®¢ç¬¬8æ¡ä»¥ç¬¦åˆã€ŠåˆåŒæ³•ã€‹è§„å®š'],
                    score: 75
                },
                'search': {
                    status: 'completed',
                    results: [
                        'ã€Šä¸­åäººæ°‘å…±å’Œå›½åˆåŒæ³•ã€‹ç¬¬52æ¡',
                        'ã€Šæœ€é«˜äººæ°‘æ³•é™¢å…³äºé€‚ç”¨<åˆåŒæ³•>è‹¥å¹²é—®é¢˜çš„è§£é‡Šã€‹ç¬¬7æ¡',
                        'ç›¸å…³æ¡ˆä¾‹ï¼šåŒ—äº¬å¸‚æŸå…¬å¸åˆåŒçº çº·æ¡ˆ (2023)äº¬01æ°‘ç»ˆ1234å·'
                    ],
                    relevance: 92
                },
                'risk': {
                    status: 'completed',
                    risks: [
                        { type: 'æ³•å¾‹é£é™©', level: 'é«˜', description: 'åˆåŒæ¡æ¬¾å¯èƒ½è¿åå¼ºåˆ¶æ€§æ³•å¾‹è§„å®š' },
                        { type: 'å•†ä¸šé£é™©', level: 'ä¸­', description: 'ä»˜æ¬¾æ¡ä»¶è¿‡äºè‹›åˆ»ï¼Œå½±å“åˆä½œæ„æ„¿' },
                        { type: 'å±¥çº¦é£é™©', level: 'ä½', description: 'æ€»ä½“å±¥çº¦é£é™©å¯æ§' }
                    ],
                    overallRisk: 'ä¸­ç­‰'
                },
                'predict': {
                    status: 'completed',
                    successRate: 78,
                    factors: ['è¯æ®å……åˆ†', 'æ³•å¾‹ä¾æ®æ˜ç¡®', ' similar cases support'],
                    timeline: '3-6ä¸ªæœˆ',
                    confidence: 85
                }
            };

            return results[type] || results['contract'];
        }

        function showAnalysisResult(type, result) {
            const resultsDiv = document.getElementById('analysisResults');
            const contentDiv = resultsDiv.querySelector('.analysis-content');

            // æ¸…ç©ºç°æœ‰å†…å®¹
            while (contentDiv.firstChild) {
                contentDiv.removeChild(contentDiv.firstChild);
            }

            let title = '';
            let content = '';

            switch(type) {
                case 'contract':
                    title = 'ğŸ“„ åˆåŒå®¡æŸ¥ç»“æœ';
                    content = `
                        <p><strong>åˆ†æçŠ¶æ€ï¼š</strong> ${result.status === 'completed' ? 'âœ… å®Œæˆ' : 'â³ è¿›è¡Œä¸­'}</p>
                        <p><strong>ç»¼åˆè¯„åˆ†ï¼š</strong> ${result.score}/100</p>
                        <p><strong>å‘ç°é£é™©ï¼š</strong></p>
                        <ul>${result.risks.map(risk => `<li>âš ï¸ ${risk}</li>`).join('')}</ul>
                        <p><strong>ä¿®æ”¹å»ºè®®ï¼š</strong></p>
                        <ul>${result.suggestions.map(suggestion => `<li>ğŸ’¡ ${suggestion}</li>`).join('')}</ul>
                    `;
                    break;
                case 'search':
                    title = 'ğŸ” æœç´¢ç»“æœ';
                    content = `
                        <p><strong>æœç´¢çŠ¶æ€ï¼š</strong> ${result.status === 'completed' ? 'âœ… å®Œæˆ' : 'â³ è¿›è¡Œä¸­'}</p>
                        <p><strong>ç›¸å…³åº¦ï¼š</strong> ${result.relevance}%</p>
                        <p><strong>æ‰¾åˆ°çš„æ³•å¾‹ä¾æ®ï¼š</strong></p>
                        <ul>${result.results.map(r => `<li>ğŸ“š ${r}</li>`).join('')}</ul>
                    `;
                    break;
                case 'risk':
                    title = 'âš ï¸ é£é™©è¯„ä¼°ç»“æœ';
                    content = `
                        <p><strong>è¯„ä¼°çŠ¶æ€ï¼š</strong> ${result.status === 'completed' ? 'âœ… å®Œæˆ' : 'â³ è¿›è¡Œä¸­'}</p>
                        <p><strong>æ•´ä½“é£é™©ç­‰çº§ï¼š</strong> ${result.overallRisk}</p>
                        <p><strong>é£é™©è¯¦æƒ…ï¼š</strong></p>
                        <ul>${result.risks.map(risk => `<li>${risk.level === 'é«˜' ? 'ğŸ”´' : risk.level === 'ä¸­' ? 'ğŸŸ¡' : 'ğŸŸ¢'} <strong>${risk.type}ï¼š</strong>${risk.description}</li>`).join('')}</ul>
                    `;
                    break;
                case 'predict':
                    title = 'ğŸ“Š æ¡ˆä¾‹ç»“æœé¢„æµ‹';
                    content = `
                        <p><strong>é¢„æµ‹çŠ¶æ€ï¼š</strong> ${result.status === 'completed' ? 'âœ… å®Œæˆ' : 'â³ è¿›è¡Œä¸­'}</p>
                        <p><strong>æˆåŠŸæ¦‚ç‡ï¼š</strong> ${result.successRate}%</p>
                        <p><strong>ä¿¡å¿ƒæŒ‡æ•°ï¼š</strong> ${result.confidence}%</p>
                        <p><strong>é¢„è®¡æ—¶é—´ï¼š</strong> ${result.timeline}</p>
                        <p><strong>å…³é”®å› ç´ ï¼š</strong></p>
                        <ul>${result.factors.map(f => `<li>âœ… ${f}</li>`).join('')}</ul>
                    `;
                    break;
            }

            // å®‰å…¨åœ°åˆ›å»ºå’Œæ·»åŠ å†…å®¹
            const titleElement = safeCreateElement('h3', title);
            const contentElement = safeCreateElement('div');
            contentElement.innerHTML = content; // è¿™é‡Œä½¿ç”¨innerHTMLæ˜¯å› ä¸ºå†…å®¹æ˜¯å—ä¿¡ä»»çš„æ¨¡æ¿å­—ç¬¦ä¸²

            contentDiv.appendChild(titleElement);
            contentDiv.appendChild(contentElement);

            resultsDiv.style.display = 'block';
            resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });

            // æ·»åŠ åŠ¨ç”»æ•ˆæœ
            setTimeout(() => {
                contentDiv.style.opacity = '1';
                contentDiv.style.transform = 'translateY(0)';
            }, 100);
        }

        // å…¶ä»–åŠŸèƒ½å‡½æ•°
        function startChat() {
            showAlert('æ³•å¾‹å’¨è¯¢åŠ©æ‰‹åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼', 'info');
        }

        function generateDocument() {
            showAlert('æ–‡ä¹¦ç”Ÿæˆå·¥å…·æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼', 'info');
        }

        // æç¤ºä¿¡æ¯å‡½æ•°
        function showAlert(message, type = 'info') {
            const alertClass = `alert-${type}`;
            const alert = safeCreateElement('div', message, { class: `alert ${alertClass}` });

            document.querySelector('.container').insertBefore(
                alert,
                document.querySelector('.ai-analysis-section')
            );

            setTimeout(() => {
                if (alert.parentNode) {
                    alert.parentNode.removeChild(alert);
                }
            }, 5000);
        }

        // è¯­è¨€åˆ‡æ¢åŠŸèƒ½
        function switchLanguage() {
            showAlert('è¯­è¨€åˆ‡æ¢åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­', 'info');
        }

        // æ•°å­—åŠ¨ç”»
        function animateNumbers() {
            const numbers = document.querySelectorAll('.stat-number');
            numbers.forEach(number => {
                const target = parseInt(number.getAttribute('data-target'));
                const increment = target / 100;
                let current = 0;

                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    number.textContent = Math.floor(current);
                }, 20);
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            animateNumbers();

            // æ·»åŠ æ»šåŠ¨åŠ¨ç”»
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.ai-feature-card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'all 0.6s ease';
                observer.observe(card);
            });
        });

        
        // Notification system
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'var(--success-color)' : type === 'error' ? 'var(--error-color)' : 'var(--primary)'};
                color: white;
                padding: 15px 20px;
                border-radius: var(--border-radius);
                box-shadow: var(--shadow);
                z-index: 10000;
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);

            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Language switching function for nav.js compatibility
        function switchLanguage(lang) {
            // Show notification for now
            const messages = {
                'zh': 'è¯­è¨€å·²åˆ‡æ¢ä¸ºä¸­æ–‡',
                'ja': 'è¨€èªãŒæ—¥æœ¬èªã«åˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã—ãŸ',
                'en': 'Language switched to English'
            };
            showNotification(messages[lang] || 'Language switched', 'success');
        }
    </script>
    <script src="nav.js"></script>
</body>
</html>